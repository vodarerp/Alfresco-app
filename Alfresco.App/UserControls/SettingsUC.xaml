<UserControl x:Class="Alfresco.App.UserControls.SettingsUC"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:Alfresco.App.UserControls"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#2196F3" Padding="15">
            <TextBlock Text="Application Configuration" FontSize="20" FontWeight="Bold" Foreground="White"/>
        </Border>

        <!-- Main Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
            <StackPanel>
                <!-- SQL Server Configuration -->
                <GroupBox Header="SQL Server Configuration" Margin="0,0,0,15" Padding="10">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="100"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Server:" VerticalAlignment="Center" Margin="0,5"/>
                        <TextBox Grid.Row="0" Grid.Column="1" Name="SqlServerTextBox" Margin="5" Padding="5"/>
                        <Button Grid.Row="0" Grid.Column="2" Content="Test" Name="TestSqlButton" Click="TestSqlButton_Click" Margin="5" Padding="5"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Database:" VerticalAlignment="Center" Margin="0,5"/>
                        <TextBox Grid.Row="1" Grid.Column="1" Name="SqlDatabaseTextBox" Margin="5" Padding="5"/>

                        <!--<CheckBox Grid.Row="4" Grid.Column="1" Name="SqlIntegratedSecurityCheckBox" Content="SQL Server Authentification" Margin="5" Checked="SqlIntegratedSecurityCheckBox_Changed" Unchecked="SqlIntegratedSecurityCheckBox_Changed"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="User:" VerticalAlignment="Center" Margin="0,5"/>
                        <TextBox Grid.Row="2" Grid.Column="1" Name="SqlUserTextBox" Margin="5" Padding="5"/>

                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Password:" VerticalAlignment="Center" Margin="0,5"/>
                        <PasswordBox Grid.Row="3" Grid.Column="1" Name="SqlPasswordBox" Margin="5" Padding="5"/>-->


                        <CheckBox Grid.Row="2" Grid.Column="1" Name="SqlIntegratedSecurityCheckBox" Content="SQL Server Authentification" Margin="5" Checked="SqlIntegratedSecurityCheckBox_Changed" Unchecked="SqlIntegratedSecurityCheckBox_Changed"/>                        
                        
                        <TextBlock Grid.Row="3" Grid.Column="0" Text="User:" VerticalAlignment="Center" Margin="0,5"/>
                        <TextBox Grid.Row="3" Grid.Column="1" Name="SqlUserTextBox" Margin="5" Padding="5"/>

                        <TextBlock Grid.Row="4" Grid.Column="0" Text="Password:" VerticalAlignment="Center" Margin="0,5"/>
                        <PasswordBox Grid.Row="4" Grid.Column="1" Name="SqlPasswordBox" Margin="5" Padding="5"/>
                    </Grid>
                </GroupBox>

                <!-- Alfresco Configuration -->
                <GroupBox Header="Alfresco Configuration" Margin="0,0,0,15" Padding="10">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="100"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Base URL:" VerticalAlignment="Center" Margin="0,5"/>
                        <TextBox Grid.Row="0" Grid.Column="1" Name="AlfrescoBaseUrlTextBox" Margin="5" Padding="5"/>
                        <Button Grid.Row="0" Grid.Column="2" Content="Test" Name="TestAlfrescoButton" Click="TestAlfrescoButton_Click" Margin="5" Padding="5"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Username:" VerticalAlignment="Center" Margin="0,5"/>
                        <TextBox Grid.Row="1" Grid.Column="1" Name="AlfrescoUsernameTextBox" Margin="5" Padding="5"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Password:" VerticalAlignment="Center" Margin="0,5"/>
                        <PasswordBox Grid.Row="2" Grid.Column="1" Name="AlfrescoPasswordBox" Margin="5" Padding="5"/>
                    </Grid>
                </GroupBox>

                <!-- Client API Configuration -->
                <GroupBox Header="Client API Configuration" Margin="0,0,0,15" Padding="10">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="100"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Base URL:" VerticalAlignment="Center" Margin="0,5"/>
                        <TextBox Grid.Row="0" Grid.Column="1" Name="ClientApiBaseUrlTextBox" Margin="5" Padding="5"/>
                        <Button Grid.Row="0" Grid.Column="2" Content="Test" Name="TestClientApiButton" Click="TestClientApiButton_Click" Margin="5" Padding="5"/>
                    </Grid>
                </GroupBox>

                <!-- Advanced Settings - Migration Configuration -->
                <GroupBox Header="Advanced Settings - Migration" Margin="0,0,0,15" Padding="10">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Root Folder ID:" VerticalAlignment="Center" Margin="0,5"/>
                        <TextBox Grid.Row="0" Grid.Column="1" Name="RootFolderIdTextBox" Margin="5" Padding="5"
                                 ToolTip="Alfresco root folder ID za destination i discovery (UUID format)"
                                 Tag="Enter Alfresco root folder UUID"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Folder Types:" VerticalAlignment="Center" Margin="0,5"/>
                        <TextBox Grid.Row="1" Grid.Column="1" Name="FolderTypesTextBox" Margin="5" Padding="5"
                                 ToolTip="Tipovi foldera za pretragu razdvojeni zarezom"
                                 Tag="Npr: LE, PI, D"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Migration Mode:" VerticalAlignment="Center" Margin="0,5"/>
                        <TextBox Grid.Row="2" Grid.Column="1" Name="MigrationModeTextBox" Margin="5" Padding="5"
                                 IsReadOnly="True" Background="#F0F0F0"
                                 ToolTip="Način migracije - po dokumentu ili folderu (samo prikaz)"/>

                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Use Date Filter:" VerticalAlignment="Center" Margin="0,5"/>
                        <CheckBox Grid.Row="3" Grid.Column="1" Name="UseDateFilterCheckBox" Margin="5" VerticalAlignment="Center"
                                  ToolTip="Omogući filtriranje po datumu"/>

                        <TextBlock Grid.Row="4" Grid.Column="0" Text="Date From:" VerticalAlignment="Center" Margin="0,5"/>
                        <DatePicker Grid.Row="4" Grid.Column="1" Name="DateFromPicker" Margin="5" Padding="5"
                                    ToolTip="Datum od (ako je Date Filter uključen)"/>

                        <TextBlock Grid.Row="5" Grid.Column="0" Text="Date To:" VerticalAlignment="Center" Margin="0,5"/>
                        <DatePicker Grid.Row="5" Grid.Column="1" Name="DateToPicker" Margin="5" Padding="5"
                                    ToolTip="Datum do (ako je Date Filter uključen)"/>

                        <TextBlock Grid.Row="6" Grid.Column="0" Text="Max Documents to Process:" VerticalAlignment="Center" Margin="0,5"/>
                        <TextBox Grid.Row="6" Grid.Column="1" Name="MaxDocumentsToProcessTextBox" Margin="5" Padding="5"
                                 ToolTip="Maksimalan broj dokumenata za obradu (0 = unlimited)"/>

                        <TextBlock Grid.Row="7" Grid.Column="0" Text="Use Copy:" VerticalAlignment="Center" Margin="0,5"/>
                        <CheckBox Grid.Row="7" Grid.Column="1" Name="UseCopyCheckBox" Margin="5" VerticalAlignment="Center"
                                  ToolTip="Koristi copy umesto move operacije"/>
                    </Grid>
                </GroupBox>

                <!-- KDP Processing Configuration -->
                <GroupBox Header="KDP Processing Configuration" Margin="0,0,0,15" Padding="10">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Ancestor Folder ID:" VerticalAlignment="Center" Margin="0,5"/>
                        <TextBox Grid.Row="0" Grid.Column="1" Name="KdpAncestorFolderIdTextBox" Margin="5" Padding="5"
                                 ToolTip="Alfresco ancestor folder ID za KDP dokumente (UUID format)"
                                 Tag="Enter Alfresco ancestor folder UUID"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Max Degree of Parallelism:" VerticalAlignment="Center" Margin="0,5"/>
                        <TextBox Grid.Row="1" Grid.Column="1" Name="KdpMaxDegreeOfParallelismTextBox" Margin="5" Padding="5"
                                 ToolTip="Maksimalan broj paralelnih API poziva (preporučeno: 5)"/>
                    </Grid>
                </GroupBox>

            </StackPanel>
        </ScrollViewer>

        <!-- Footer with Save/Cancel buttons -->
        <Border Grid.Row="2" BorderBrush="LightGray" BorderThickness="0,1,0,0" Padding="15" Background="#F5F5F5">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <!-- Status Messages -->
                <Grid Grid.Column="0"  Margin="0,10,0,0">
                    <StackPanel>
                        <TextBlock Text="Status:" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Name="StatusTextBlock" Text="" TextWrapping="Wrap" Foreground="Blue"/>
                    </StackPanel>
                </Grid>
                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="Save &amp; Restart" Name="SaveButton" Click="SaveButton_Click" Width="120" Height="30" Margin="0,0,10,0" Background="#4CAF50" Foreground="White" FontWeight="Bold"/>
                    <Button Content="Cancel" Name="CancelButton" Click="CancelButton_Click" Width="80" Height="30"/>
                </StackPanel>
                
            </Grid>
        </Border>
    </Grid>
</UserControl>
